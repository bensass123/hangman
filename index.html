<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>

  </head>
<body>

<canvas>
	
</canvas>

<p id ="word"></p><br>
<h2 id ="win"></h2>

<h2>Guesses left: <span id = "guesses">7</span></h2>

<h4>Wrong guesses: <span id = "wrongs"></span></h4>

  <script type="text/javascript">

  	var guessesLeft = 7;
  	var word ="purple";
  	var hangword = ["-","-","-","-","-","-"];
  	var stringWord = "------";
  	var wrongLetters = [];
  	var wrongString;
  	var alph = ("abcdefghijklmnopqrstuvwxyz").split("");


  	function isGuessRight(guess){
  		for (i = 0; i < word.length; i++) {
  			if (word.charAt(i) === guess)
  				return true
  		}
  		return false;
  	}

  	function replaceCorrects(guess) {
  		var replaceIndex =[];
  		for (i = 0; i < word.length; i++) {
  			if (word.charAt(i) === guess)
  				replaceIndex.push(i);
  		}
  		return replaceIndex;
  	}

  	function addGuess(guess, replaceIndex) {
  		for (i in replaceIndex) {
  			var x = replaceIndex[i];
  			hangword[x] = guess;
  		}
  	}

  	function win() {
  		for (i in hangword) {
  			if (hangword[i] === "-"){
  				return false;
  			}
  		}

  		return true;
  	}

  	function isInWrongs(char) {
  		for (i in wrongLetters){
  			if (char === wrongLetters[i])
  				return true;
  		}
  		return false;
  	}

  	function addWrong(char) {
  			if (!isInWrongs(char)) {
  				guessesLeft -= 1;
	  			document.getElementById("guesses").innerHTML = guessesLeft;
	  			wrongLetters.push(char);
	  			wrongString = wrongLetters.join("");
	  			document.getElementById("wrongs").innerHTML = wrongString;
	  		}
  	}

  	function isLetter(letter) {
  		for (i in alph) {
  			if (alph[i] === letter)
  				return true;
  		}
  		return false;
  	}

  	document.onkeyup = function (event) {
  			var letter = event.key;
  			letter = letter.toLowerCase();
  			if(isLetter(letter)){
	  			addGuess(letter, replaceCorrects(letter));
	  			console.log(hangword);
	  			console.log(win());
	  			stringWord = hangword.join("");
	  			document.getElementById("word").innerHTML = stringWord;
	  			if (win()){
	  				document.getElementById("win").innerHTML = "YOU WIN!";
	  			}
	  			if (!isGuessRight(letter)) {
	  				addWrong(letter);
	  			}

	  			

	  			if (guessesLeft === 0) 
	  				document.getElementById("win").innerHTML = "YOU LOSE!";
  			}

  	}

  	

  	document.getElementById("word").innerHTML = stringWord;
  	// document.getElementById("wrongs").innerHTML = wrongString;


  </script>
  
</body>
</html>