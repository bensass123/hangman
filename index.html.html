<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>title</title>

  </head>
<body>

<canvas>
	
</canvas>

<p id ="word"></p><br>
<h2 id ="win"></h2>

<h2>Guesses left: <span id = "guesses">7</span></h2>

<h4>Wrong guesses: <span id = "wrongs"></span></h4>

<br><br><br><br><br><br>
<h5>Reload for new word</h5>

  <script type="text/javascript">

  	var guessesLeft = 9;
  	// var word ="purple";
  	var wordDic = ["purple", "rumplestiltskins","easy","difficulty","charlotte","raintree","mountains","ocean","pepperoni","gypsy"];

  	// create hangWord, create stringWord, pick word

  	var hangWord = [];
  	var stringWord="-";
  	var wrongLetters = [];
  	var wrongString;
  	var alph = ("abcdefghijklmnopqrstuvwxyz").split("");

  	// initial method calls

  	var word = pickWord();
  	createHangWord();
  	createStringWord();

  	console.log(stringWord);
  	console.log(hangWord);


  	// create hangWord, create stringWord, pick word

	function pickWord(){
		var r = Math.floor(Math.random() * 10);
		var word = wordDic[r];
		console.log(word);
		console.log(r);
		return word;
	}

	function createHangWord(){
		for (i = 0; i < word.length; i++){
			hangWord.push("-");
		}
	}

	function createStringWord(){
		for (i = 0; i < word.length-1; i++){
			stringWord += "-";
		}
	}

  	function isGuessRight(guess){
  		for (i = 0; i < word.length; i++) {
  			if (word.charAt(i) === guess)
  				return true
  		}
  		return false;
  	}

  	function replaceCorrects(guess) {
  		var replaceIndex =[];
  		for (i = 0; i < word.length; i++) {
  			if (word.charAt(i) === guess)
  				replaceIndex.push(i);
  		}
  		return replaceIndex;
  	}

  	function addGuess(guess, replaceIndex) {
  		for (i in replaceIndex) {
  			var x = replaceIndex[i];
  			hangWord[x] = guess;
  		}
  	}

  	function win() {
  		for (i in hangWord) {
  			if (hangWord[i] === "-"){
  				return false;
  			}
  		}

  		return true;
  	}

  	function isInWrongs(char) {
  		for (i in wrongLetters){
  			if (char === wrongLetters[i])
  				return true;
  		}
  		return false;
  	}

  	function addWrong(char) {
  			if (!isInWrongs(char)) {
  				guessesLeft -= 1;
	  			document.getElementById("guesses").innerHTML = guessesLeft;
	  			wrongLetters.push(char);
	  			wrongString = wrongLetters.join("");
	  			document.getElementById("wrongs").innerHTML = wrongString;
	  		}
  	}

  	function isLetter(letter) {
  		for (i in alph) {
  			if (alph[i] === letter)
  				return true;
  		}
  		return false;
  	}

  	document.onkeyup = function (event) {
  			var letter = event.key;
  			letter = letter.toLowerCase();
  			if(isLetter(letter) && guessesLeft > 0){
	  			addGuess(letter, replaceCorrects(letter));
	  			console.log(hangWord);
	  			console.log(win());
	  			stringWord = hangWord.join("");
	  			document.getElementById("word").innerHTML = stringWord;
	  			if (win()){
	  				document.getElementById("win").innerHTML = "YOU WIN!";
	  			}
	  			if (!isGuessRight(letter)) {
	  				addWrong(letter);
	  			}

	  			

	  			if (guessesLeft === 0) 
	  				document.getElementById("win").innerHTML = "YOU LOSE!";
  			}

  	}

  	

  	document.getElementById("word").innerHTML = stringWord;
  	// document.getElementById("wrongs").innerHTML = wrongString;


  </script>
  
</body>
</html>